\chapter{Introducción}
\section{Motivación}

Los sistemas de transporte conforman la columna vertebral de nuestras ciudades, contribuyendo directamente al desarrollo de la sociedad urbana. Un sistema de transporte bien diseñado y eficiente permite el desplazamiento rápido y cómodo de personas y bienes; en cambio, uno ineficiente genera grandes problemas, alargando los tiempos de viaje y aumentando la contaminación atmosférica.
Los Sistemas de Transporte Inteligente (ITS, por sus siglas en inglés: \textit{Intelligent Transportation Systems}) surgen como una respuesta a la necesidad de optimización y modernización de los sistemas de transporte existentes. La Unión Europea define a los ITS como aplicaciones avanzadas que, sin incorporar inteligencia como tal, pretenden proveer servicios innovadores relacionados con distintos modos de transporte y de administración de tráfico, que además otorgan información a los usuarios, permitiéndoles utilizar el sistema de transporte de manera más segura, coordinada e inteligente \autocite{eudirective}. De acuerdo al Departamento de Transportes de los EEUU\footnote{Office of the Assistant Secretary for Research and Technology (OST-R), \url{http://www.itsoverview.its.dot.gov/}}, estos sistemas se pueden dividir en dos grandes categorías: sistemas de infraestructura inteligente y sistemas de vehículos inteligentes.

Los sistemas de infraestructura inteligente tienen como enfoque el manejo de los sistemas de transporte a niveles macro, y la transmisión de información oportuna a los usuarios. Esta categoría incluye, entre otros, sistemas de advertencia y señalización dinámica en ruta (ya sea a través de pantallas o sistemas de comunicación inalámbrica), sistemas de pago electrónico y de coordinación del flujo de tráfico.

Por otro lado, la categoría de sistemas de vehículos inteligentes engloba todo aquello relacionado con la automatización y optimización de la operación de un vehículo. Dentro de esta categoría se incluyen sistemas de advertencia y prevención de colisiones, de asistencia al conductor --- por ejemplo, sistemas de navegación --- y control autónomo de vehículos.

El factor común entre ambas categorías es la necesidad de extraer información en tiempo real desde el entorno, la cual debe procesarse y en muchos casos generar una respuesta a transmitir al usuario. Para este fin, se ha propuesto la implementación de tecnologías que posibiliten esta comunicación, principalmente utilizando redes inalámbricas, tanto de área local (los estándares incluídos en la familia WLAN, IEEE 802.11), como de área personal (WPAN, IEEE 802.15) \autocite{80211dailey,80215vanet,80211wave}. Sin embargo, estas tecnologías fueron diseñadas originalmente para su uso en redes estáticas o con patrones de movimiento muy limitados, y es necesaria la evaluación de su desempeño en entornos altamente dinámicos como lo son los sistemas de transporte vehicular. Parámetros críticos para el funcionamiento óptimo de la red, como la potencia de transmisión, las condiciones del canal de transmisión y la distancia óptima entre nodos, deben establecerse teniendo en cuenta las particularidades que presentan los sistemas de transporte --- por ejemplo, la alta congestión de nodos en intersecciones con semáforos.

Existe entonces hoy en día la necesidad de modelar de manera realista y precisa el comportamiento de éstas tecnologías en contextos de comunicaciones inalámbricas en redes vehiculares. Por otro lado, existe también la necesidad de modelar el impacto de la comunicación inalámbrica en un sistema de transporte, y cómo esta puede contribuir a optimizar la operación del mismo \autocite{bidirectionalsimul}. Un ejemplo de esto son los Sistemas Avanzados de Información al Viajero (\textit{ATIS}, por sus siglas en inglés; \textit{Advanced Traveller Information System}) los cuales proveen información en tiempo real sobre las condiciones del tránsito a conductores, permitiéndoles elegir la ruta más óptima para alcanzar su destino. Este \textit{feedback} inmediato sin duda tiene efectos importantes en el flujo vehicular de un sistema de transportes, los cuales deben ser tomados en consideración al momento de modelar y simular el funcionamiento del mismo.

%A raíz de lo anterior, en el presente informe se propone la elaboración de un sistema que integre un simulador de redes de comunicaciones con uno de tráfico vehicular como una herramienta de apoyo para el estudio de las problemáticas previamente señaladas y la evaluación de nuevos modelos y soluciones para transporte inteligente.

\section{Estado del arte}\label{sec:state_of_the_art}

La idea de integrar un simulador de redes inalámbricas con uno de transporte no es nueva. Sommer et al. argumentaron a favor de la idea el 2008 \autocite{bidirectionalsimul}, e introdujeron su propia solución el 2011 \autocite{sommer_german_dressler}. A continuación se resumirá brevemente el estado del arte detallado en dichos documentos, junto con una evaluación de la implementación de los autores. Finalmente, se definirá la solución propuesta para este trabajo de memoria.

De acuerdo a Sommer et al., gran parte de la simulación de comunicaciones inalámbricas en ITS se hace a través de la importación de trazas de movimiento reales desde simuladores de transporte. Dichas trazas se pueden generar de dos manera: \textit{offline}, es decir, aisladamente en el simulador de transporte, para luego ser exportadas en un formato que el simulador de red sea capaz de interpretar, y \textit{decoupled online}, de manera que el simulador de transporte genere las trazas en tiempo real y el simulador de red simplemente las ``consume''. Sin embargo, si bien este método permite analizar el efecto del modelo de movimiento de un sistema de transporte en las comunicaciones inalámbricas, es incapaz de reflejar el impacto de la propagación de información del estado del tráfico en el modelo mismo. Es decir, esta metodología no es útil para la simulación de, por ejemplo, sistemas de advertencia de accidentes o de asistencia al conductor, puesto que las trazas de movimiento están predefinidas o se generan sin considerar los resultados de esta comunicación.

Por otro lado, los autores destacan la existencia de un sistema de simulación bidireccional desarrollado por la Universidad Nacional de Chiao Tung, Taiwan \autocite{nctuns}, el cual permite la simulación íntegra de un sistema de transportes dotado de capacidades de comunicación inalámbrica. No obstante, critican la incompatibilidad de dicho sistema con los modelos de protocolos de comunicación y transporte ya desarrollados para los simuladores más prominentes, limitando severamente su utilidad práctica en la investigación.


Finalmente, presentan su solución: VEINS, un \textit{framework} de integración entre OMNeT++ \autocite{omnet2008overview}, un simulador de redes inalámbricas, y SUMO \autocite{sumo}, un simulador de redes de transporte. Ambos simuladores se escogieron específicamente por su adopción en el mundo académico, y por sus naturalezas abiertas y fáciles de adaptar y modificar.

A través de VEINS, ambos simuladores se ejecutan en paralelo, comunicándose en tiempo real mediante un \textit{socket} utilizando el protocolo TCP; SUMO proporciona las trazas de movimiento de los elementos en la simulación a la vez que OMNeT++ simula el comportamiento de la red de comunicaciones. Además, mediante este esquema, OMNeT++ también puede modificar directamente el comportamiento del modelo de transporte, por ejemplo alterando la velocidad de un vehículo en respuesta a un mensaje específico obtenido a través de la red de comunicaciones. De esta manera, el \textit{framework} en cuestión permite modelar sistemas complejos y dinámicos, que reflejan de buena manera la realidad.

No obstante, VEINS sufre por su elección de simulador de transporte; SUMO todavía se encuentra en una temprana etapa de desarrollo, lo cual implica que frecuentemente sufre de problemas de estabilidad y de falta de características y documentación. Por ejemplo, hasta diciembre del 2015 (versión 0.25.0), SUMO no contaba con un editor gráfico de redes de transporte\footnote{\url{http://sumo.dlr.de/wiki/FAQ}}, lo cual dificultaba mucho el diseño de redes originales. Además, la curva de aprendizaje de SUMO es bastante pronunciada, y todas sus configuraciones son a través de archivos; es por esto que en muchos departamentos de ingeniería de transporte se opta por otros simuladores más avanzados y estables. En el caso específico del Área de Transportes del Departamento de Ingeniería Civil de la Universidad de Chile, el simulador de preferencia es Quadstone Paramics \autocite{paramics,kotusevski2009review}, un simulador de tráfico de fuente cerrada.

Paramics es un simulador popular a nivel académico y de agencias de estados, y cuenta con una gran cantidad de modelos de redes de transporte reales gracias a contribuciones de estos. El software en sí está compuesto por un \textit{suite} de componentes (Modelador,
Procesador, Estimador, Analisador, Programador, Diseñador, etc.) que juntos conforman una plataforma completa y dinámica, capaz de simular una gran variedad de sistemas de transporte. Además, cuenta con una API completa y muy bien documentada para agregar funcionalidades al software mediante plugins desarrollados en \texttt{C}. Esta API permite la comunicación de Paramics con software externo, transmitiendo por ejemplo información del modelo y sus cambios en el tiempo. Una comparación de las características de SUMO, Paramics y un número de simuladores más se detalla en  \autocite{kotusevski2009review}.

Por estas razones; facilidad de uso, popularidad en el mundo académico y, en específico, su extenso uso por el Departamento de Ingeniería Civil de la Universidad de Chile, el presente trabajo se enfocará en combinar Paramics con un simulador de redes inalámbricas. OMNeT++ surge como la opción natural para este fin, dado su excelente rendimiento en \textit{frameworks} como VEINS, su modularidad y extensibilidad dada su naturaleza abierta y libre, su excelente documentación y su popularidad en la academia.

Cabe notar que una combinación de este tipo tampoco es algo completamente nuevo. Shalaby elaboró para su tesis de magíster en 2010 \autocite{shalaby} un framework que permite la comunicación entre Paramics y OMNeT++. Sin embargo, su solución sólo contempla un caso muy acotado de interacción entre los simuladores, y sufre además por limitaciones en su implementación; por ejemplo, la comunicación entre los componentes se efectúa mediante archivos en disco, lo cual es sumamente ineficiente comparado con otras soluciones posibles (e.g. \textit{sockets}).
